import{o as m,d as _,F as L,h as F,t as u,a as e,r as g,c as R,w as f,e as $,b as s,f as x,g as r,v as C,x as E,y}from"./app.3002f0d4.js";import{_ as j}from"./AppLayout.82a48274.js";import{_ as A}from"./DialogModal.bae48aad.js";import{_ as D}from"./PrimaryButton.53bc5c91.js";import{_ as I}from"./SecondaryButton.c336a36b.js";import{_ as d}from"./InputLabel.1095f9ed.js";import{a as i,_ as p}from"./TextInput.6d86f531.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Modal.ac25b7e6.js";const B=["value"],M=e("option",{value:"",disabled:"",selected:""},"-- Select --",-1),O=["value"],U={__name:"SelectInput",props:["items","refer","modelValue"],emits:["update:modelValue"],setup(a){return(c,v)=>(m(),_("select",{class:"border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",value:a.modelValue,onInput:v[0]||(v[0]=o=>c.$emit("update:modelValue",o.target.value))},[M,(m(!0),_(L,null,F(a.items,o=>(m(),_("option",{value:o.id,key:o.id},u(a.refer?o[a.refer]:o.name),9,O))),128))],40,B))}},P={class:"py-12"},z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},G={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg px-4 py-4"},H={key:0,class:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md my-3",role:"alert"},J={class:"flex"},K={class:"text-sm"},Q={class:"table-fixed w-full"},W=e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"px-4 py-2 w-72"}," Registration Number "),e("th",{class:"px-4 py-2 w-24"},"Vehicle"),e("th",{class:"px-4 py-2 w-24"},"From"),e("th",{class:"px-4 py-2"},"To"),e("th",{class:"px-4 py-2"},"Driver"),e("th",{class:"px-4 py-2 w-44"},"Transmitter"),e("th",{class:"px-4 py-2"},"Status"),e("th",{class:"px-4 py-2 w-72"},"Action")])],-1),X={class:"border px-4 py-2"},Y={class:"border px-4 py-2"},Z={class:"border px-4 py-2"},ee={class:"border px-4 py-2"},te={class:"border px-4 py-2"},se={class:"border px-4 py-2"},le={class:"border px-4 py-2"},oe={class:"border px-4 py-2"},re=["onClick"],ae=["onClick"],ne=["onClick"],de={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ie={class:""},ue={class:"mb-4"},me={class:"mb-4"},ce={class:"mb-4"},fe={class:"flex justify-between"},pe={class:"mb-4"},_e={class:"mb-4"},ve={class:"mb-4"},be={class:"flex justify-between gap-1"},ge={class:"mb-4"},he={class:"mb-4"},xe={class:"mb-4"},ye={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},we={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},Ve={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},Ne={__name:"VehicleRoute",props:{data:Array,errors:Object,vehicles:Array,transmitters:Array},setup(a){g(!0);let c=g(!1),v=g(!1),o=g({vehicle_id:"",transmitter_id:""}),w=g({});function V(){v.value=!0}function b(){v.value=!1,h(),c.value=!1}function h(){o.value={vehicle_id:null,from:null,from_long:null,from_lat:null,to:null,to_long:null,to_lat:null,driver:null}}function q(n){y.Inertia.post("/routes",n,{onError:l=>{l.message&&(w.value={type:"error",message:l.message})},onSuccess:l=>{h(),b(),c.value=!1}})}function N(n){o.value=Object.assign({},n),c.value=!0,V()}function S(n){n._method="PUT",delete n.vehicle,y.Inertia.post("/routes/"+n.id,n),h(),b()}function T(n){!confirm("Are you sure want to remove?")||(n._method="DELETE",y.Inertia.post("/routes/"+n.id,n),h(),b())}return(n,l)=>(m(),R(j,null,{default:f(()=>[e("div",P,[e("div",z,[e("div",G,[n.$page.props.flash.message?(m(),_("div",H,[e("div",J,[e("div",null,[e("p",K,u(n.$page.props.flash.message),1)])])])):$("",!0),e("button",{onClick:l[0]||(l[0]=t=>V()),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded my-3"}," Create New Route "),e("table",Q,[W,e("tbody",null,[(m(!0),_(L,null,F(a.data,t=>(m(),_("tr",{key:t.id},[e("td",X,u(t.reg_no),1),e("td",Y,u(t.vehicle.name),1),e("td",Z,u(t.from),1),e("td",ee,u(t.to),1),e("td",te,u(t.driver),1),e("td",se,u(t.transmitter.imei_number),1),e("td",le,u(t.status),1),e("td",oe,[e("button",{onClick:k=>N(t),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2"}," Edit ",8,re),t.status==="on"?(m(),_("button",{key:0,onClick:k=>n.endRoute(t),class:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded mr-2"}," Finish ",8,ae)):$("",!0),e("button",{onClick:k=>T(t),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"}," Delete ",8,ne)])]))),128))])])])])]),s(A,{show:r(v),onClose:b,alert:r(w)},{title:f(()=>[x(" Create Routes ")]),content:f(()=>[e("form",null,[e("div",de,[e("div",ie,[e("div",ue,[s(d,{value:"Vehicle:",for:"vehicles"}),s(U,{id:"vehicles",items:a.vehicles,modelValue:r(o).vehicle_id,"onUpdate:modelValue":l[1]||(l[1]=t=>r(o).vehicle_id=t),class:"mt-1 w-full block"},null,8,["items","modelValue"]),s(i,{message:a.errors.vehicle_id},null,8,["message"])]),e("div",me,[s(d,{for:"transmitter",value:"Transmitter:"}),s(U,{refer:"imei_number",id:"transmitter",items:a.transmitters,modelValue:r(o).transmitter_id,"onUpdate:modelValue":l[2]||(l[2]=t=>r(o).transmitter_id=t),class:"mt-1 w-full block"},null,8,["items","modelValue"]),s(i,{message:a.errors.transmitter_id},null,8,["message"])]),e("div",ce,[s(d,{for:"from",value:"From:"}),s(p,{id:"from",modelValue:r(o).from,"onUpdate:modelValue":l[3]||(l[3]=t=>r(o).from=t),type:"text",class:"mt-1 block w-full",required:"",placeholder:"Enter From"},null,8,["modelValue"]),s(i,{message:a.errors.from},null,8,["message"])]),e("div",fe,[e("div",pe,[s(d,{for:"from_long",value:"From Longitude:"}),s(p,{id:"from",modelValue:r(o).from_long,"onUpdate:modelValue":l[4]||(l[4]=t=>r(o).from_long=t),type:"text",class:"mt-1 block w-full",required:"",placeholder:"Enter From Longitude"},null,8,["modelValue"]),s(i,{message:a.errors.from_long},null,8,["message"])]),e("div",_e,[s(d,{for:"from_lat",value:"from Latitude:"}),s(p,{id:"from",modelValue:r(o).from_lat,"onUpdate:modelValue":l[5]||(l[5]=t=>r(o).from_lat=t),type:"text",class:"mt-1 block w-full",required:"",placeholder:"Enter From Latitude"},null,8,["modelValue"]),s(i,{message:a.errors.from_lat},null,8,["message"])])]),e("div",ve,[s(d,{for:"to",value:"To:"}),s(p,{id:"from",modelValue:r(o).to,"onUpdate:modelValue":l[6]||(l[6]=t=>r(o).to=t),type:"text",class:"mt-1 block w-full",required:"",placeholder:"Enter Destination"},null,8,["modelValue"]),s(i,{message:a.errors.to},null,8,["message"])]),e("div",be,[e("div",ge,[s(d,{for:"to_long",value:"Destination Longitude:"}),s(p,{id:"from",modelValue:r(o).to_long,"onUpdate:modelValue":l[7]||(l[7]=t=>r(o).to_long=t),type:"text",class:"mt-1 block w-full",required:"",placeholder:"Enter Destination Longitude"},null,8,["modelValue"]),s(i,{message:a.errors.to_long},null,8,["message"])]),e("div",he,[s(d,{value:"Destination Latitude:",for:"to_lat"}),s(p,{id:"to_lat",modelValue:r(o).to_lat,"onUpdate:modelValue":l[8]||(l[8]=t=>r(o).to_lat=t),type:"text",class:"mt-1 block w-full",required:"",placeholder:"Enter Destination Latitude"},null,8,["modelValue"]),s(i,{message:a.errors.to_lat},null,8,["message"])])]),e("div",xe,[s(d,{for:"driver",value:"Driver:"}),s(p,{id:"to_lat",modelValue:r(o).driver,"onUpdate:modelValue":l[9]||(l[9]=t=>r(o).driver=t),type:"text",class:"mt-1 block w-full",required:"",placeholder:"Enter Driver Name"},null,8,["modelValue"]),s(i,{message:a.errors.driver},null,8,["message"])])])])])]),footer:f(()=>[e("span",ye,[s(I,{onClick:l[10]||(l[10]=t=>b()),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"},{default:f(()=>[x(" Cancel ")]),_:1})]),e("span",we,[C(s(D,{"wire:click.prevent":"store()",type:"button",onClick:l[11]||(l[11]=t=>q(r(o)))},{default:f(()=>[x(" Save ")]),_:1},512),[[E,!r(c)]])]),e("span",Ve,[C(s(D,{"wire:click.prevent":"store()",type:"button",onClick:l[12]||(l[12]=t=>S(r(o)))},{default:f(()=>[x(" Update ")]),_:1},512),[[E,r(c)]])])]),_:1},8,["show","alert"])]),_:1}))}};export{Ne as default};
