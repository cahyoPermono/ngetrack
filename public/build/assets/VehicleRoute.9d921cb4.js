import{d as x,o as a,c as L,w as U,a as e,e as i,t as r,f as u,i as v,F as w,h as s,g as $,v as c,K as F,D as m,x as k,y as g}from"./app.ea81c2ab.js";import{_ as j}from"./AppLayout.3b20cd1a.js";import"./_plugin-vue_export-helper.cdc0426e.js";const T={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg px-4 py-4"},R={key:0,class:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md my-3",role:"alert"},S={class:"flex"},A={class:"text-sm"},B={class:"table-fixed w-full"},I=e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"px-4 py-2 w-72"},"Registration Number"),e("th",{class:"px-4 py-2 w-24"},"Vehicle"),e("th",{class:"px-4 py-2 w-24"},"From"),e("th",{class:"px-4 py-2"},"To"),e("th",{class:"px-4 py-2"},"Driver"),e("th",{class:"px-4 py-2 w-44"},"Transmitter"),e("th",{class:"px-4 py-2"},"Status"),e("th",{class:"px-4 py-2 w-72"},"Action")])],-1),O={class:"border px-4 py-2"},z={class:"border px-4 py-2"},K={class:"border px-4 py-2"},P={class:"border px-4 py-2"},q={class:"border px-4 py-2"},G={class:"border px-4 py-2"},H={class:"border px-4 py-2"},J={class:"border px-4 py-2"},Q=["onClick"],W=["onClick"],X=["onClick"],Y={key:1,class:"fixed z-10 inset-0 overflow-y-auto ease-out duration-400"},Z={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ee=e("div",{class:"fixed inset-0 transition-opacity"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),te=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},null,-1),oe={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},se={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},le={class:""},ne={class:"mb-4"},re=e("label",{for:"vehicles",class:"block text-gray-700 text-sm font-bold mb-2"},"Vehicle:",-1),de=["value"],ae={key:0,class:"text-red-500"},ie={class:"mb-4"},ue=e("label",{for:"from",class:"block text-gray-700 text-sm font-bold mb-2"},"From:",-1),ce={key:0,class:"text-red-500"},me={class:"flex justify-between"},fe={class:"mb-4"},be=e("label",{for:"from_long",class:"block text-gray-700 text-sm font-bold mb-2"},"From Longitude:",-1),he={key:0,class:"text-red-500"},pe={class:"mb-4"},xe=e("label",{for:"from_lat",class:"block text-gray-700 text-sm font-bold mb-2"},"from Latitude:",-1),ge={key:0,class:"text-red-500"},ye={class:"mb-4"},_e=e("label",{for:"to",class:"block text-gray-700 text-sm font-bold mb-2"},"To:",-1),ve={key:0,class:"text-red-500"},we={class:"flex justify-between"},ke={class:"mb-4"},Ce=e("label",{for:"to_long",class:"block text-gray-700 text-sm font-bold mb-2"},"Destination Longitude:",-1),Ve={key:0,class:"text-red-500"},De={class:"mb-4"},Ee=e("label",{for:"to_lat",class:"block text-gray-700 text-sm font-bold mb-2"},"Destination Latitude:",-1),Le={key:0,class:"text-red-500"},Ue={class:"mb-4"},$e=e("label",{for:"driver",class:"block text-gray-700 text-sm font-bold mb-2"},"Driver:",-1),Fe={key:0,class:"text-red-500"},je={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Te={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},Ne={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},Me={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},Be={__name:"VehicleRoute",props:{data:Array,errors:Object,vehicles:Array},setup(n){let f=x(!1),p=x(!1),l=x({});function y(){p.value=!0}function b(){p.value=!1,h(),f.value=!1}function h(){l.value={vehicle_id:null,from:null,from_long:null,from_lat:null,to:null,to_long:null,to_lat:null,driver:null}}function C(d){g.Inertia.post("/routes",d,{onError:o=>{console.log(o)}}),h(),b(),f.value=!1}function V(d){l.value=Object.assign({},d),f.value=!0,y()}function D(d){d._method="PUT",delete d.vehicle,g.Inertia.post("/routes/"+d.id,d),h(),b()}function E(d){!confirm("Are you sure want to remove?")||(d._method="DELETE",g.Inertia.post("/routes/"+d.id,d),h(),b())}return(d,o)=>(a(),L(j,null,{default:U(()=>[e("div",T,[e("div",N,[e("div",M,[d.$page.props.flash.message?(a(),i("div",R,[e("div",S,[e("div",null,[e("p",A,r(d.$page.props.flash.message),1)])])])):u("",!0),e("button",{onClick:o[0]||(o[0]=t=>y()),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded my-3"}," Create New Route "),e("table",B,[I,e("tbody",null,[(a(!0),i(w,null,v(n.data,t=>(a(),i("tr",{key:t.id},[e("td",O,r(t.reg_no),1),e("td",z,r(t.vehicle.name),1),e("td",K,r(t.from),1),e("td",P,r(t.to),1),e("td",q,r(t.driver),1),e("td",G,r(t.transmitter.imei_number),1),e("td",H,r(t.status),1),e("td",J,[e("button",{onClick:_=>V(t),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2"}," Edit ",8,Q),t.status==="on"?(a(),i("button",{key:0,onClick:_=>d.endRoute(t),class:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded mr-2"}," Finish ",8,W)):u("",!0),e("button",{onClick:_=>E(t),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"}," Delete ",8,X)])]))),128))])]),s(p)?(a(),i("div",Y,[e("div",Z,[ee,te,$("\u200B "),e("div",oe,[e("form",null,[e("div",se,[e("div",le,[e("div",ne,[re,c(e("select",{id:"vehicles",name:"vehicle",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":o[1]||(o[1]=t=>s(l).vehicle_id=t)},[(a(!0),i(w,null,v(n.vehicles,t=>(a(),i("option",{value:t.id,key:t.id},r(t.name),9,de))),128))],512),[[F,s(l).vehicle_id]]),n.errors.driver?(a(),i("div",ae,r(n.errors.driver),1)):u("",!0)]),e("div",ie,[ue,c(e("input",{type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"from",placeholder:"Enter From","onUpdate:modelValue":o[2]||(o[2]=t=>s(l).from=t)},null,512),[[m,s(l).from]]),n.errors.from?(a(),i("div",ce,r(n.errors.from),1)):u("",!0)]),e("div",me,[e("div",fe,[be,c(e("input",{type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"from",placeholder:"Enter From Longitude","onUpdate:modelValue":o[3]||(o[3]=t=>s(l).from_long=t)},null,512),[[m,s(l).from_long]]),n.errors.from_long?(a(),i("div",he,r(n.errors.from_long),1)):u("",!0)]),e("div",pe,[xe,c(e("input",{type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"from",placeholder:"Enter From Latitude","onUpdate:modelValue":o[4]||(o[4]=t=>s(l).from_lat=t)},null,512),[[m,s(l).from_lat]]),n.errors.from_lat?(a(),i("div",ge,r(n.errors.from_lat),1)):u("",!0)])]),e("div",ye,[_e,c(e("input",{type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"to",placeholder:"Enter Destination","onUpdate:modelValue":o[5]||(o[5]=t=>s(l).to=t)},null,512),[[m,s(l).to]]),n.errors.to?(a(),i("div",ve,r(n.errors.to),1)):u("",!0)]),e("div",we,[e("div",ke,[Ce,c(e("input",{type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"to_long",placeholder:"Enter Destination Longitude","onUpdate:modelValue":o[6]||(o[6]=t=>s(l).to_long=t)},null,512),[[m,s(l).to_long]]),n.errors.to_long?(a(),i("div",Ve,r(n.errors.to_long),1)):u("",!0)]),e("div",De,[Ee,c(e("input",{type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"to_lat",placeholder:"Enter Destination Latitude","onUpdate:modelValue":o[7]||(o[7]=t=>s(l).to_lat=t)},null,512),[[m,s(l).to_lat]]),n.errors.to_lat?(a(),i("div",Le,r(n.errors.to_lat),1)):u("",!0)])]),e("div",Ue,[$e,c(e("input",{type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"driver",placeholder:"Enter Driver Name","onUpdate:modelValue":o[8]||(o[8]=t=>s(l).driver=t)},null,512),[[m,s(l).driver]]),n.errors.driver?(a(),i("div",Fe,r(n.errors.driver),1)):u("",!0)])])]),e("div",je,[e("span",Te,[c(e("button",{"wire:click.prevent":"store()",type:"button",class:"inline-flex justify-center w-full rounded-md border border-transparent px-4 py-2 bg-green-600 text-base leading-6 font-medium text-white shadow-sm hover:bg-green-500 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 sm:text-sm sm:leading-5",onClick:o[9]||(o[9]=t=>C(s(l)))}," Save ",512),[[k,!s(f)]])]),e("span",Ne,[c(e("button",{"wire:click.prevent":"store()",type:"button",class:"inline-flex justify-center w-full rounded-md border border-transparent px-4 py-2 bg-green-600 text-base leading-6 font-medium text-white shadow-sm hover:bg-green-500 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 sm:text-sm sm:leading-5",onClick:o[10]||(o[10]=t=>D(s(l)))}," Update ",512),[[k,s(f)]])]),e("span",Me,[e("button",{onClick:o[11]||(o[11]=t=>b()),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Cancel ")])])])])])])):u("",!0)])])])]),_:1}))}};export{Be as default};
